%& --translate-file=il2-pl
%
% http://www.ip.ethz.ch/education/techpolicy_seminar
\documentclass[a4,portrait]{seminar}
\usepackage{iwona}
\usepackage{ragged2e,array}
\RequirePackage{graphics,color,ifpdf}
%%
\slidewidth=31.0cm  %% szeroko¶æ slajdu
\slideheight=25.0cm %% wysoko¶æ slajdu
%%%
\renewcommand{\slideleftmargin}{6mm}
\renewcommand{\sliderightmargin}{6mm}
\renewcommand{\slidetopmargin}{6mm} %%%
\renewcommand{\slidebottommargin}{1mm}
\renewcommand{\slidefuzz}{9pt}
%%
\renewcommand\labelitemi{\TO}
\setlength{\itemsep}{0pt}
%%
%%\slidewidth=22.0cm \slideheight=17.0cm % do ew. zmiany ==> landscape
\slidesmag{4}
\definecolor{LightGreen}{rgb}{0.78,0.90,0.76}
\definecolor{javadocblue}{rgb}{0,.5,.1}
\definecolor{lightblue}{rgb}{0,.5,.7}
\definecolor{darkgreen}{rgb}{0,0.6,0}
\definecolor{xxlightblue}{rgb}{0.87,0.91,0.82}%%{.8,.9,.9}
%\definecolor{LightGreen}{rgb}{0.78,0.90,0.76}
\def\?{\phantom0}
\definecolor{javadocblue}{rgb}{.1,.1,.5}
\definecolor{lightblue}{rgb}{0,.5,.7}
\definecolor{darkgreen}{rgb}{0,0.6,0}
\let\OriSection\section \let\OriSubSection\subsection
\def\section#1{\OriSection{\color{javadocblue}{#1}}}
\def\subsection#1{\OriSubSection{\color{lightblue}{#1}}}
\pagecolor{LightGreen} % t³o
\slideframewidth=.4pt
\ifpdf % to fix problems making landscape seminar pdfs
\pdfpagewidth=330truemm
%%%\pdfpagewidth=210truemm
\pdfpageheight=297truemm
%%%\pdfpageheight=330truemm
\pdfhorigin=3.4truein
\pdfvorigin=1truein
\fi
\setcounter{secnumdepth}{-1} % na wszelki wypadek
\raggedbottom
\raggedright
%
\pagestyle{empty}
\newcommand{\source}[1]{\par \begin{small}#1\end{small}}
\newcommand{\heading}[1]{%
  \begin{center}
    \large\bf #1%
  \end{center}
  \vspace{1ex minus 1ex}}
%%
%%
\def\Blstress#1{\textbf{\color{javadocblue}#1}}
\def\Clstress#1{\textbf{\color{darkgreen}#1}}
\newcommand\acro[1]{\textsc{#1}}
\newcommand{\SITI}{\acro{SI/TI}}
\def\xfrac#1#2{#1\big/#2}
\newcommand{\cov}{\textrm{cov}}
\newcommand{\var}{\textrm{var}}
\newcommand\factor[1]{\index{#1}\acro{#1}} %%%
\newcommand{\FFx}{\acro{FF}}
\newcommand\semindex[1]{\index{#1}\acro{#1}}
\usepackage{graphicx}
\usepackage{url}
\raggedright
%%\setcounter{secnumdepth}{-1}
%%
%\def\TO{{\tt ->}}
\def\TO{$\to$}
\def\Stress#1{\textbf{#1}}
\def\strong#1{\textbf{#1}}\let\Strong \strong
\def\STRONG#1{\textbf{#1}}
\def\stress#1{\emph{#1}}
\title{MODELOWANIE SATYSFAKCJI, U¯YTECZNO¦CI\\ I~WYKORZYSTANIA OPROGRAMOWANIA\\ OPEN SOURCE}
\author{Tomasz Przechlewski}
\date{}
%\institution{Uniwersytet Gdañski}
%\email{tomasz@gnu.univ.gda.pl}
\begin{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\maketitle
\begin{slide}
%%%%%%%%%%%%%%
\begin{minipage}{.34\hsize}
\hbox to\textwidth{\hss\includegraphics[width=.6\hsize]{gft_icon}}%
\end{minipage}
\begin{minipage}{.63\hsize}
%%\vskip-40mm
%%\vbox to0pt{\vss
\begin{flushright}\bf
%%
  GOOGLE FUSION TABLES\rlap{:}\\
  JAK W~120 MINUT ZOSTAÆ SPECJALIST¡\\
  OD (PRZESTRZENNEJ) WIZUALIZACJI DANYCH
%%
\par \vskip4mm
Tomasz Przechlewski
\end{flushright}
\end{minipage}
%%

\end{slide}


\begin{slide}
\subsection{Zagadnienia}

%%%Wprowadzenie
%%%Kultura, instytucje, tradycja a~OSS

\begin{itemize}
\item Google Fusion Tables

\item KML vs GPX

\item Przypadek \#1 Niemiecka \emph{Die U-Bootwaffe\/}

\item Przypadek \#2 Afera Madrycka

\item Przypadek \#3 Wybory do Sejmu RP 2015

\item Przypadek \#4 Wybory samorz±dowe 2014
  
\end{itemize}

\end{slide}

\begin{slide}
   %% http://blog.wakatta.jp/blog/2012/02/27/concrete-mathematics-chapter-2-notes/
  \subsection{GFT: Google Fusion Tables}

  Przestrzenna wizualizacji danych robi wra¿enie
  (\emph{[using $\sum_{i=1}^n x_i$ instead of $x_1 + \cdots + x_n$] \textbf{is impressive to family
  and friends}}, Graham/Knuth/Patashnik, \emph{Concrete Mathematics\/} rozdz.~2),
  ale nie jest prosta\dots
  
\colorbox{xxlightblue}{\vbox{%%  
  GFT to us³uga, która [w teorii] pozwala zrobiæ wra¿enie
  bez potrzeby po¶wiêcania zbyt du¿o czasu na nauczenie siê
  zasad przestrzennej wizualizacji danych. Hmm\dots}}
  
Limity:  1~GB~/u¿ytkownika; 350,000 \emph{map features\/},
byæ mo¿e jakie¶ inne\dots

Dane s± przedstawione w~tabelach, jak w~arkuszu kalkulacyjnym.
Tabela mo¿e zawieraæ 4~typy danych: NUMBER, STRING, LOCATION, DATETIME.

Warto¶ciami w~kolumnie typu LOCATION mog± byæ napisy zawieraj±ce adres
albo parê latitude/longitude \textbf{lub} fragment dokumentu KML
okre¶laj±cy punkt, liniê ³aman± lub wielobok.

\vspace{-4.5mm}
  \vbox to0pt{\null\vskip3mm
\hbox to \textwidth{\hss\hsize4cm \includegraphics[width=3.9cm]{koroplet.jpg}}
\vss}
  
\begingroup
\rightskip=4cm plus 4mm

Dziêki warto¶ciom z~kolumn(y) LOCATION dane mog± byæ
przedstawione ma mapie (Google).
% http://www.smalldatajournalism.com/projects/one-offs/mapping-with-fusion-tables/

Tabele mog± byæ ³±czone (MERGE)

%% http://forum.cad.pl/dane-shp-dla-polski-t71542.html
{\TO}  \emph{Intensity map\/} vel \emph{choropleth\/} ne\'e koroplet \emph{primo voto\/} kartogram

API \url{https://developers.google.com/fusiontables/}

\endgroup

\end{slide}
\begin{slide}
  \subsection{KML}
\begin{small}
\begin{verbatim}
<?xml version='1.0' encoding='UTF-8'?>
<kml xmlns='http://www.opengis.net/kml/2.2' xmlns:gx='http://www.google.com/kml/ext/2.2'>
<Document>
<name>...</name>
<description>...</description>
<Style id="redLinePoly"><LineStyle><color>ff0000ff</color><width>4</width></LineStyle></Style>
<Style id='redPolyS'><PolyStyle><color>330000ff</color>
</PolyStyle><fill>1</fill><outline>1</outline></Style>

<!-- punkt -->
<Placemark><name>NAME</name><description>... </description>
<Point><coordinates>9.20398056,45.48436667</coordinates></Point></Placemark>

<!-- lamana -->
<Placemark><styleUrl>#redLinePoly</styleUrl><name>NAZWA</name>
<LineString><tessellate>1</tessellate><coordinates>
9.192068,45.449987,222.201782 9.192399,45.449819,162.600098 
</coordinates></LineString></Placemark>

<!-- wielobok -->
<Placemark><styleUrl>#redPolyS</styleUrl><name>gizycki</name>
<Polygon><outerBoundaryIs><LinearRing><tessellate>1</tessellate>
<coordinates>21.4294751,53.8514208 21.4294751,54.1817319 ....</coordinates>
</LinearRing></outerBoundaryIs></Polygon></Placemark>

</Document></kml>
\end{verbatim}
\end{small}
\end{slide}

\begin{slide}
  \subsection{KML vs GPX}
  \begin{small}
    \advance\baselineskip-1.5pt
\begin{verbatim}
<?xml version="1.0">
<gpx version="1.0" creator="GPSBabel - http://www.gpsbabel.org" xmlns="http://www.topografix.com/GPX/1/0">
  <time>2016-02-12T18:52:14.562Z</time>
  <!-- <bounds minlat="45.448476747" minlon="-3.184214272" maxlat="54.537149454" maxlon="21.071048118"/> -->
  <wpt lat="54.439997000" lon="18.548219000">
    <ele>193.967000</ele>
    <time>2016-03-06T09:18:58Z</time>
    <!-- <name>LAP001</name> <cmt>LAP001</cmt> <desc>LAP001</desc> -->
  </wpt>
  <!-- itd ..-->
  <trk><name>NAZWA</name>
    <trkseg>
      <trkpt lat="45.665803486" lon="9.697926678">
        <ele>240.467041</ele>
        <time>2016-02-08T11:39:33Z</time>
      </trkpt>
      <!-- itd ..-->
    </trkseg> </trk>
  <rte> <name>Sopot-Chyl-Rewa</name>
      <cmt></cmt>
      <rtept lat="54.44068" lon="18.55211">
         <name>Start</name>
      </rtept> </rte>
<!-- itd ..-->
</gpx>
\end{verbatim}
\end{small}

\colorbox{xxlightblue}{\vbox{%%
gpsbabel -i gpx -f PLIK-WE  -o kml -F PLIK-WY}}
  
\end{slide}

\begin{slide}
\subsection{Przypadek \#1 Niemiecka \emph{Die U-Bootwaffe}: dane}

Dane pobrane za pomoc± \emph{web scrappingu} z~\url{http://uboat.net/}

\begin{center}
\includegraphics[width=.7\hsize]{u99_page.png}
\end{center}
  
\textbf{typ;nr;patrols;ships;shipsT;wships;wshipsT;fate;commiss;commissy;sunkpos}\\
ii;1;2;0;0;0;0;K;29 Jun 1935;1935;54.2333,5.1167\\
ii;2;2;0;0;0;0;K;25 Jul 1935;1935;54.8000,19.9167
  
\end{slide}


\begin{slide}
\subsection{Przypadek \#1 Niemiecka \emph{Die U-Bootwaffe\/}: podstawowe fakty}

\begin{center}
\includegraphics[width=.725\hsize]{Uboots_build_and_sunk.pdf}
\end{center}

Do koñca 1945~r. przyjêto do s³u¿by 1156 okrêty (710 ii, 194 ix, 159 xx? $\approx$ 62\%/17\%/14\%).

\colorbox{xxlightblue}{\vbox{
Zosta³o zniszczonych 1045 (1156~$-$~1045~$=$~114).}}

\begin{center}
\includegraphics[width=.725\hsize]{Uboots_build_and_sunk_diff.pdf}
\end{center}

\end{slide}

%%

\begin{slide}
  \advance\baselineskip-3pt
  \subsection{Przypadek \#1 Niemiecka \emph{Die U-Bootwaffe\/}: zatopienia na mapie}

  Je¿eli kropki nak³adaj± siê na siebie, skala zjawiska jest
  zniekszta³cona. Rozwi±zaniem mo¿e byæ zmniana sposobu wizualizacji
  na tzw. \emph{heat maps\/} (rys.~\#2).
  
\begin{center}
\includegraphics[width=.4\hsize]{uboots-sunk-fm.png}
\includegraphics[width=.4\hsize]{uboots-sunk-hm.png}
\end{center}

Mo¿na ograniczyæ to co jest pokazywane na mapie za pomoc± \emph{filtru\/}.
  Mapa \#3 wy¶wietla okrêty typu~7, które odby³y 5 i wiêcej patroli (72).
  Mapa \#4  wy¶wietla okrêty typu
     7 które odby³y maksimum 1~patrol (320).

\begin{center}
\includegraphics[width=.4\hsize]{uboots-sunk-fm-2.png}
\includegraphics[width=.4\hsize]{uboots-sunk-fm-3.png}
\end{center}

\end{slide}


\begin{slide}
  %% 10>zatopionych statków (72) vs 0 zatopionych (800)
  \subsection{Przypadek \#1 Niemiecka \emph{Die U-Bootwaffe\/}:
      zatopienia na mapie cd}

  Zatopione U-booty, które zniszczy³y 10 i~wiêcej statków (72)
  vs te, które nic nie zatopi³y (800).

%%  Drugi wiersz to tzw. \emph{heat map\/}

\begin{center}
\includegraphics[width=.4\hsize]{uboots-sunk-fm-4.png}
\includegraphics[width=.4\hsize]{uboots-sunk-fm-5.png}
\end{center}

Powy¿sze w wersji \emph{heat map\/}:

\begin{center}
\includegraphics[width=.4\hsize]{uboots-sunk-hm-6.png}
\includegraphics[width=.4\hsize]{uboots-sunk-hm-7.png}
\end{center}

\end{slide}


\begin{slide}
\def\<{$<$}\def\>{$>$}
\subsection{Przypadek \#2 ,,Afera madrycka'': analiza wyjazdów pos³ów 7 kadencji}

Pos³owie PiS Adam Hofman, Mariusz A. Kamiñski i Adam Rogacki wziêli na
podró¿ do Madrytu na posiedzenie komisji Zgromadzenia Parlamentarnego
Rady Europy po kilkana¶cie tysiêcy z³otych zaliczki, zg³aszaj±c wyjazd
samochodem, a~mieli polecieæ samolotem za kilkaset PLN.

Koalicja rz±dz±ca w~osobie Marsza³ka Sejmu RP R.~Sikorskiego zarz±dzi³a
audyt, którego efektem by³o udostêpnienie m.in. dokumentu pn. Wyjazdy
zagraniczne pos³ów VII kadencja
(\url{http://www.sejm.gov.pl/sejm7.nsf/komunikat.xsp?documentId=9863B4EE283C6481C1257D8E004F49D2})

Jak przysta³o na kraj, w którym od lat dzia³a \emph{Ministerstwo cyfryzacji\?}
zestawienie jest w~formacie PDF\dots

\textbf{"Lp";"Data";"Gdzie";"PanstwoMiasto";"Posel";"Klub";"NrWnioski";"Ktransp";"Kdiet";"Khoteli"; \
"Kdojazdow";"Ubezp";"WydatkFundusz";"RozniceKurs";"Zaliczki"; \
"Klacznie";"PoCo";"Coords";"Dist";"Kmlline"}
1;"13-16.11.2011";"USA: Waszyngton";"USA, Waszyngton";"Ryszard Kalisz"; \
"SLD";"4/11";17479,97;568,22;0;0;0;0;16,56;0;18031,63;"VIII Zgromadzenie Ogólne Miêdzynarodowej Koalicji\
Parlamentarzystów ds. Uchod¼ców Pó³nocnokoreañskich oraz Praw Cz³owieka";"38.9071923 -77.0368707 0"\
;7179.5;"\<LineString\>\<coordinates\>-77.0368707,38.9071923 21.028075,52.225208\</coordinates\>\</LineString\>"


\end{slide}

\begin{slide}
\subsection{Przypadek \#2 ,,Afera madrycka'': Podró¿e/Pos³owie wg kosztów ³±cznych/kosztów transportu}

\begin{center}
\includegraphics[width=.35\hsize]{by-voyage0.png}
\includegraphics[width=.35\hsize]{by-voyage1.png}\\
%\includegraphics[width=.4\hsize]{by-voyage2.png}
\end{center}
%
\begin{center}
\includegraphics[width=.35\hsize]{by-person0.png}
\includegraphics[width=.35\hsize]{by-person1.png}
\end{center}

\end{slide}

\begin{slide}
  \subsection{Przypadek \#2: ,,Afera madrycka'' wyjazdy na mapie}
  
  \begin{center}
    \includegraphics[width=.9\hsize,page=1]{poslowie7k-podroze.png}
  \end{center}
\kern-15mm
  \begin{center}
    \includegraphics[width=.7\hsize,page=1]{poslowie7k-podroze-hm.png}
  \end{center}
\end{slide}

\begin{slide}
  \subsection{Przypadek \#3: Wybory do Sejmu RP 2015}

  Dane dotycz±ce 27859 komisji obwodowych
  pobrane zosta³y za pomoc± \emph{web scrappingu}
  z~\url{http://parlament2015.pkw.gov.pl/349_Wyniki_Sejm} 28.10.2015T15:00

  Jedna komisja jest tajna (Bagram/Afganistan /okr.~19)
  \url{http://parlament2015.pkw.gov.pl/321_protokol_komisji_obwodowej/97770}

  \begin{small}
  \begin{tabular}{lrrrrrrrr}
\bf Komitet &\bf L.kandydatów &\bf L.g³osów &\bf L.g³osów* &\bf	Ró¿nica &\bf Okr19 &\bf	Okr19* &\bf Ró¿nica \\[-3pt] \hline
KORWIN 	               & 899  &  722921  & 722999   &	 78   &	21757  &  21767& 10 \\[-3pt]
KUKIZ 	               & 839  &  1338610 & 1339094  &    484  &  26546 &  26573& 27 \\[-3pt]
Kongres N. Prawicy     & 116  &  4852 	 & 4852     &    0    &  x     &  x    & x \\[-3pt]
Razem 	               & 571  &  550343  & 550349   &    6    &  9469  & 9475  & 6 \\[-3pt]
Samoobrona 	       & 119  &  4266 	 & 4266     &    0    &  x     &  x    & x \\[-3pt]
BRAUN 	               & 202  &  13113 	 & 13113    &    0    &  x     &  x    & x \\[-3pt]
JOW Bezpartyjni        & 138  &  15184 	 & 15656    &    472  &  x     &  x    & x \\[-3pt]
Mniejszo¶æ Niem.       & 24   &  27530 	 & 27530    &    0    &  x     &  x    & x \\[-3pt]
OdP                    & 40   &  1964 	 & 1964     &    0    &  266   &  266  & 0 \\[-3pt]
Ruch Spo³.~RP          & 59   &  3941 	 & 3941     &    0    &  186   &  186  & 0 \\[-3pt]
STONOGA 	       & 299  &  42668 	 & 42731    &    63   &  x     &  x    & x \\[-3pt]
Zjed. dla ¦l±ska       & 42   &  18668 	 & 18668    &    0    &  x     &  x    & x \\[-3pt]
PETRU 	               & 858  &  1155364 & 1155370  &    6    &  15942 & 15948 & 6 \\[-3pt]
PiS 	               & 918  &  5711661 & 5711687  &    26   &  58317 & 58343 & 26 \\[-3pt]
PO 	               & 914  &  3661455 & 3661474  &    19   &  32240 & 32259 & 19 \\[-3pt]
PSL 	               & 916  &  779874  &  779875  &    1    &  796   &  797  & 1 \\[-3pt]
ZLEW 	               & 905  &  1146837 & 1147102  &    265  &  7948  &7956   & 8  \\
  \end{tabular}
\hbox{\kern10mm * dane zagregowane ze strony PKW}
  
  \end{small}
  
\end{slide}

\begin{slide}
\subsection{Przypadek \#3: Komisja obwodowa Bardo ul.~Kolejowa 12}

\vbox to105mm{
\includegraphics[width=.55\hsize]{komisja_84873_protokol-4.png}
\vss
\hbox to \textwidth{\hss\includegraphics[width=.7\hsize]{komisja_84873_protokol-0.png}}
}
\end{slide}


\begin{slide}

\subsection{Przypadek \#3: Wybory do Sejmu RP 2015 cd}
  
idkomisji :: \%g³osów wa¿nych (ogó³em na wszystkich kandydatów wszystkich komitetów) adres

\textbf{KORWIN}

102943 :: 50.00 (14) Stowarzyszenie MONAR O¶rodek Leczenia, Terapii i
Rehabilitacji Uzale¿nieñ dla Dzieci i M³odzie¿y w Gdañsku, Gdañsk,
Matarnia, ul. Agrarna 2, 80-298 Gdañsk 16

102947 :: 48.17 (328) Dom Studencki Nr 8, Gdañsk, Wrzeszcz
Dolny, ul. Wyspiañskiego 5A, 80-434 Gdañsk 6

91604 :: 46.08 (102) Politechnika £ódzka Obiekt C
15, £ód¼, al. Politechniki 3a, 93-590 £ód¼

\textbf{KWW Zbigniewa Stonogi}

\colorbox{xxlightblue}{\vbox{%%
102231 :: 36.93 (417) ¦wietlica Wiejska w Lubieszewie, Lubieszewo,  16, 82-100 Nowy D.~Gdañski}}

108763 :: 16.67 (6) Szpital Powiatowy, Krotoszyn, ul. Bolewskiego 4-8, 63-700 Krotoszyn

102562 :: 16.67 (6) Dom Pomocy Spo³ecznej, Stanis³awie,  31, 83-112 Lubiszewo

\begingroup
  \rightskip=4cm plus 4mm
  \textbf{KW Razem}
  \vspace{-4.5mm}
  
  \vbox to0pt{
\hbox to \textwidth{\hss\hsize4cm \includegraphics[width=3.9cm]{trzy_kury.jpg}}
    \vss}

86967 :: 40.00 (5) Niepubliczny Zak³ad Opieki Zdrowotnej w Bydgoszczy
-- Dom Sue Ryder, Bydgoszcz, ul. Wilhelma Roentgena 3, 85-796 Bydgoszcz

102259 :: 33.33 (3) Szpital Pucki Sp. z o.o., Puck, 1-go Maja 13A, $\underline{\textrm{84-100~Puck}}$
\url{http://parlament2015.pkw.gov.pl/321_protokol_komisji_obwodowej/102259}


\endgroup

\vspace{1.5mm}

\colorbox{xxlightblue}{\vbox{%%
5\% komisji $\leq$ 67 g³osów ; 10\% komisji $\leq$ 137 g³osów;
0 g³osów -- 2komisje; 5 g³osów i mniej -- 48 komisji;
1500 i~wiêcej -- 164 komisje.}}


\end{slide}


\begin{slide}
\subsection{Przypadek \#3: jak czêsto powtarzaj± siê nazwy miejscowo¶ci w~Polsce}

Wed³ug obwieszczenie Ministra Administracji i Cyfryzacji z 
4/8/2015~r. w wykazie urzêdowych nazw miejscowo¶ci i~ich czê¶ci
(DU 19/10/2015~r., poz. 1636) znajduje siê: 103086 nazw,
w tym 915 nazw miast, 6710 nazw czê¶ci miast, 43068 nazw wsi, 36263
nazwy czê¶ci wsi, 5132 nazwy osad.

\colorbox{xxlightblue}{\vbox{%%
Wsi + miast jest 43068 + 915 = 43,983 nazw.}}

\begin{small}
  \advance\baselineskip-3pt
\begin{tabular}{lrrrrrrrr}
\bf Województwo  &\bf  [1,2)&\bf [2,3)&\bf [3,5)&\bf [5,30)&\bf [1,2) &\bf [2,3)&\bf [3,5)&\bf [5,30)\\[-3pt] \hline
dolno¶l±skie     &  2082 &  117 &  37  &  3    & 92,99 & 5,23 & 1,65 & 0,13 \\[-3pt]
kuj.-pomorskie   &  2257 &  183 &  52  & 10    & 90,20 & 7,30 & 2,10 & 0,40\\[-3pt]
lubelskie        &  2698 &  154 &  65  & 26    & 91,68 & 5,23 & 2,21 & 0,88 \\[-3pt]
lubuskie         &  965  &  57  &  5   & 0     & 93,96 & 5,55 & 0,49 & 0,00 \\[-3pt]
³ódzkie          &  3276 &  275 &  99  & 45    & 88,70 & 7,40 & 2,70 & 1,20 \\[-3pt]
ma³opolskie      &  1594 &  105 &  21  &  4    & 92,46 & 6,09 & 1,22 & 0,23 \\[-3pt]
mazowieckie      &  5780 &  466 & 177  & 79    & 88,90 & 7,20 & 2,70 & 1,20 \\[-3pt]
opolskie         &   941 &   39 &   9  &  1    & 95,05 & 3,94 & 0,91 & 0,10 \\[-3pt]
podkarpackie     &  1429 &   49 &  17  &  2    & 95,46 & 3,27 & 1,14 & 0,13 \\[-3pt]
podlaskie        &  2852 &  136 &  42  &  9    & 93,80 & 4,50 & 1,40 & 0,30 \\[-3pt]
pomorskie        &  1579 &   58 &  13  &  2    & 95,58 & 3,51 & 0,79 & 0,12 \\[-3pt]
¶l±skie          &  1033 &   48 &   7  &  2    & 94,77 & 4,40 & 0,64 & 0,18 \\[-3pt]
¶wiêtokrzyskie   &  1844 &  111 &  51  & 12    & 91,38 & 5,50 & 2,53 & 0,59 \\[-3pt]
war.-mazurskie   &  2060 &  128 &  34  &  3    & 92,58 & 5,75 & 1,53 & 0,13 \\[-3pt]
wielkopolskie    &  3378 &  310 &  99  & 19    & 88,80 & 8,10 & 2,60 & 0,50 \\[-3pt]
zach-pomorskie   &  1504 &  117 &  19  &  1    & 91,65 & 7,13 & 1,15 & 0,06
\end{tabular}

\colorbox{xxlightblue}{\vbox{%%
W~skali ca³ego kraju jest 5080 nazw
nieunikatowych;, w przypadku 868 miejscowo¶ci nazwy powtarzaj± siê
5~i~wiêcej razy. Pierwsza dziesi±tka: \textbf{Nowa Wie¶} (113
powtórzeñ), D±browa (92), Zalesie (86), D±brówka (65), Józefów (49),
Kamionka (41), Ruda (39), Janów (39), Zawady (39) Stanis³awów (38).}}

\end{small}
\end{slide}


\begin{slide}
\def\V{$\vert$}
  \subsection{Przypadek \#3: Geokoder Google}
  
\colorbox{xxlightblue}{\vbox{%%
27859 adresów komisji obwodowych do zamiany na wspó³rzêdne:\\
\textbf{100000;181405;Szko³a Podstawowa w Kañczudze{\V}Kañczuga{\V}ul. Szkolna 7{\V}37-220 Kañczuga}}}

\vspace{-3pt}

W~wersji darmowej limit 2500 wyszukañ/dzieñ.

\textbf{Wyszukanie po kodach pocztowych:}

\begin{small}
\begingroup
\advance\baselineskip-2pt
\begin{verbatim}
awk -F'|' '{print $NF}' kody_adresy.csv  | sort -u | wc -l
$ 6313
\end{verbatim}
Google znajduje 5698 ró¿nych wspó³rzêdnych. B³±d po stronie PKW (tak¿e?)

\begin{verbatim}
awk -F'|' '{a[$NF]++}; END{ for (x in a) {if (a[x]> 30) { print a[x] " = " x }}}' kody_adresy.csv  | wc -l
$ 76    ## a[x]< 10 => 5714
\end{verbatim}
\par
\endgroup

%%\begin{small}
\colorbox{xxlightblue}{\vbox{%%
%%68 = 87-800 W³oc³awek;
69 = 44-200 Rybnik;
80 = 43-300 Bielsko-Bia³a;
116 = 26-600 Radom;
124 = 87-100 Toruñ...}}

\textbf{Wyszukanie ,,z kotwic±'' (bounds)}

\begin{verbatim}
https://maps.googleapis.com/maps/api/geocode/json?\
  bounds=53.8710742,16.7827421|54.4431018,17.8002834\
  &address=Borzytuchom, ul. Czterdziestolecia 2&components=country:pl
\end{verbatim}
  
2574 adresów w województwie pomorskim i zachodnio-pomorskim;
2302 adresów unikatowych;
1858 (80,71\%) geokodowañ z dok³adno¶ci± ROOFTOP;
210 (9,12\%) geokodowañ z~,,dok³adno¶ci±'' Poland.


\advance\baselineskip-2pt
\begin{verbatim}
.../api/geocode/json?&components=country:PL&address=Sopot, ul. 1-go Maja 5
=> "formatted_address" : "Poland"
.../api/geocode/json?&components=country:PL&address=Sopot, ul. 1 Maja 5
=> "formatted_address" : "1 Maja 5, Sopot, Poland"

.../api/geocode/json?&components=country:PL|postal_code:81-825 
.../api/geocode/json?&components=country:PL|administrative_area:kartuski&address=Kartuzy
\end{verbatim}
\end{small}

\end{slide}

\begin{slide}
\subsection{Przypadek \#3: Powiaty w~PL wg Google}

\includegraphics[width=.85\hsize]{bb_powiatow_wg_google.png}

\end{slide}


\def\MapCap#1#2{%
  \par \kern-6mm \hbox{\hbox{\hss\kern70mm\footnotesize #1}\hbox{\hss\kern45mm #2}}}

\begin{slide}%%

\subsection{Przypadek \#4: Wybory samorz±dowe 2014 (,,sfa³szowane'')}

Bia³e/szare kropki niski odsetek g³osów niewa¿nych (PGNW). Niebieskie/czerwone
wysoki odsetek. £±cznie oko³o 27 tys komisji. Mapa \#1 ogó³em. Mapy 2--4
z~ustawionymi filtrami.
Mapa \#2 PGNW $>$ 30\% (\emph{feature map\/}). 
Mapa \#3 PGNW $>$ 25\%. 
Mapa \#4 PGNW $<$ 15\%. 
\begin{center}
\includegraphics[width=.30\hsize]{pgnw2014.png}
\includegraphics[width=.30\hsize]{pgnw30fm.png}
\end{center}
\MapCap{1}{2}
\begin{center}
%\includegraphics[width=.30\hsize]{pgnw30hm.png}
  \includegraphics[width=.30\hsize]{pgnw25fm.png}
  \includegraphics[width=.30\hsize]{pgnw15fm.png}
\end{center}
%\vspace{1.5mm}
\MapCap{3}{4}

\colorbox{xxlightblue}{\vbox{%%
    0-15\% 9~tys; 
    25--100\% 5725 komisji;
    30--100\% 2572 komisji;
    35--100\% 1020 komisji;
    50--100\% 74 komisje (w tym 19 gdzie liczba oddanych g³osów $>$~99)
}}

\end{slide}

\begin{slide}
\subsection{Przypadek \#4 cd: Wybory samorz±dowe 2014 (,,sfa³szowane'')}

Mapa \#1 PGNW $>$ 25\% (\emph{feature map\/} vs
Mapa \#2 PGNW $>$ 25\% (\emph{heat map\/}. 
Mapa \#3 PGNW $>$ 50\% (\emph{feature map\/} vs
Mapa \#4 PGNW $>$ 50\% (\emph{heat map\/}. 

\begin{center}
\includegraphics[width=.32\hsize]{pgnw25fm.png}
\includegraphics[width=.32\hsize]{pgnw25hm.png}
\end{center}
%%
\MapCap{1}{2}

\begin{center}
  \includegraphics[width=.32\hsize]{pgnw_50_lkw_99_fm.png}
  \includegraphics[width=.32\hsize]{pgnw_50_lkw_99_hm.png}
\end{center}
%%\vspace{1.5mm}
\MapCap{3}{4}


\colorbox{xxlightblue}{\vbox{%%
{\sc{uwaga}}: tylko max~1000 punktów
jest wizualizowanych
w~trybie \emph{HeatMap\/} (GFT ma  ,,od zawsze'' status $\beta$)
wiêc wra¿enie mo¿e byæ mylne, je¿eli jest ich wiêcej
(por.~wiersz \#1 wy¿ej).
}}

\end{slide}
%% ¦rednio na PL
%% PiS = 26,89 PO = 26,29 PSL = 23,88 
%%
\begin{slide}
  \subsection{Przypadek \#4 cd: Wybory samorz±dowe 2014 (,,sfa³szowane'')}
  %% PIS = 43 PSL = 507 PO = 60; SLD = 191
  Poparcie do SW w~skali kraju:
  PiS = 26,89\%; PO = 26,29\%; PSL = 23,88\%; SLD = 8,79\%. Obwody,
  w których poparcie
  jest ponadstandardowo (oko³o 200\% ¶redniej krajowej) du¿e ORAZ, w~których
  PGNW $>$~33\% (co trzeci g³os by³ niewa¿ny)
  
\begin{center}
  \includegraphics[width=.33\hsize]{pgnw33_vs_PSL45.png}
  \includegraphics[width=.33\hsize]{pgnw33_vs_PiS45.png}
\end{center}
\MapCap{PSL}{PiS}

\begin{center}
  \includegraphics[width=.33\hsize]{pgnw33_vs_PO45.png}
  \includegraphics[width=.33\hsize]{pgnw33_vs_SLD15.png}
\end{center}
\MapCap{PO}{SLD}

\colorbox{xxlightblue}{\vbox{%%
PIS = 43; PSL = 507; PO = 60; SLD = 191 obwodów}}

\end{slide}

\begin{slide}
  \subsection{Przypadek \#4 cd: Wybory samorz±dowe 2014 (,,sfa³szowane'')}

  Poparcie dla PSL/PiS/PO w wyborach 2010--2011--2014--2015 wg obwodów
  
  \begin{center}

  \includegraphics[width=.85\hsize]{rozklady_PSL-PO-PiS_2010-2015.jpg}

\end{center}

  
  \end{slide}

\begin{slide}
  \subsection{Przypadek \#4 cd: Wybory samorz±dowe 2014 (,,sfa³szowane'')}

  Odsetek g³osów niewa¿nych a wynik partii (PSL/PiS/PO).
  Pierwszy wiersz -- ogó³em; drugi --~gminy miejskie i MnPP;
  trzeci --~gminy wiejskie +~m-wiejskie.

  \begin{center}
    \includegraphics[width=.225\hsize,page=1]{pgnw_partie_korelacja.pdf}
    \includegraphics[width=.225\hsize,page=2]{pgnw_partie_korelacja.pdf}
    \includegraphics[width=.225\hsize,page=3]{pgnw_partie_korelacja.pdf}
  \end{center}
\kern -6mm
  \begin{center}
    \includegraphics[width=.225\hsize,page=4]{pgnw_partie_korelacja.pdf}
    \includegraphics[width=.225\hsize,page=5]{pgnw_partie_korelacja.pdf}
    \includegraphics[width=.225\hsize,page=6]{pgnw_partie_korelacja.pdf}
  \end{center}
\kern -6mm
  \begin{center}
    \includegraphics[width=.225\hsize,page=7]{pgnw_partie_korelacja.pdf}
    \includegraphics[width=.225\hsize,page=8]{pgnw_partie_korelacja.pdf}
    \includegraphics[width=.225\hsize,page=9]{pgnw_partie_korelacja.pdf}
  \end{center}
  
\end{slide}


% %%%%%%%%%%%%
\begin{slide}
  %%%%%%%%%%%%%%
  \null\vspace{1cm}

  Przyk³adowe mapy:
  
  \begin{footnotesize}
    \url{https://www.google.com/fusiontables/DataSource?docid=1H2njyUIH4z7sFEfZXBlI78obtJAagGaTnd0LFfPg}\\
    \url{https://www.google.com/fusiontables/DataSource?docid=1cZh1EJhxXwgXpJBW8fH6I0hFpyVSU0hqjPwOepJf}\\[9pt]
  \end{footnotesize}

  Dane/Slajdy/Dodatkowe materia³y:
  
  \begin{small}
    \url{https://github.com/hrpunio/Data}\\
    \url{https://github.com/hrpunio/Slides}\\[9pt]
    \url{http://www.smalldatajournalism.com/projects/one-offs/mapping-with-fusion-tables/}
\end{small}

\vspace{1cm}
  
\begin{minipage}{.25\hsize}
\hbox to\textwidth{\hss\includegraphics[width=.9\hsize]{gft_icon}}%
\end{minipage}
%%%%
\begin{minipage}{.7\hsize}
  \begin{flushleft}
    %%\url{}\\
\textbf{Dziêkujê za uwagê}
\end{flushleft}
\end{minipage}
\end{slide}
%%

\end{document}

% Local Variables:
% TeX-master: ""
% mode: latex
% coding: iso-8859-2
% ispell-local-dictionary: "polish"
% End:

